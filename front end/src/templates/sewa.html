<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BITC</title>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="GOLING (Go Healing)" />
    <meta name="keywords" content="goling team" />

    <!-- Icon -->
    <link rel="icon" href="../images/logo1.png" />

    <!--boostrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
    />

    <!-- Symbols -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
    />
    <style></style>
  </head>

  <body>
    <header>
      <div id="navbarId" class="navbar">
        <div class="headerInner">
          <h1 class="headerTitle">BITC</h1>
          <ul class="navigationResponsive">
            <li>
              <button
                id="navigationDrawerId"
                class="navigationDrawer"
                aria-label="Open navigation drawer"
              >
                ☰
              </button>
            </li>
          </ul>
        </div>
        <nav id="navbarContainerId" class="navbarContainer">
          <ul class="navbarList">
            <li class="navbarItem"><a href="./index.html">Home</a></li>
            <li class="navbarItem"><a href="./details.html">Survei Kepuasan</a></li>
            <li class="navbarItem"><a href="./complaints.html">Complaints</a>
            <li class="navbarItem"><a href="./bookingVoffice.html">Sewa Virtual Office</a></li>
          </ul>
        </nav>
      </div>
      <div class="hero">
        <div class="heroContainer">
          <h1 class="heroTitle">Baros Information Technology</h1>
          <h2 class="heroTitle">Creative</h2>
        </div>
      </div>
    </header>

    <section id="sewa-ruangan" class="container mt-5">
      <div class="row">
        <h2>Sewa Ruangan</h2>
        <form id="bookingForm">
          <div class="personal-information">
            <h5>Personal Information</h5>
            <div class="form-name">
              <input type="text" id="fullname" name="fullname" required />
              <label for="fullname">Full Name</label>
            </div>
            <div class="form-checkbox">
              <h5>Pilih Gender:</h5>
              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="radio"
                  name="gender"
                  id="Laki"
                  value="Laki"
                  required
                />
                <label for="Laki">Laki-Laki</label>
              </div>
              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="radio"
                  name="gender"
                  id="Perempuan"
                  value="Perempuan"
                  required
                />
                <label for="Perempuan">Perempuan</label>
              </div>
            </div>
            <div class="form-email">
              <input type="email" id="email" name="email" required />
              <label for="email">Email Address</label>
            </div>
            <div class="form-phonenumber">
              <input
                type="tel"
                id="phonenumber"
                name="phonenumber"
                pattern="\+62-[0-9]{4}-[0-9]{4}-[0-9]{0-4}"
                required
              />
              <label for="phonenumber">Phone Number</label>
              <small class="form-text text-muted"
                >Format: +62-XXXX-XXXX-XXXX</small
              >
            </div>
          </div>
          <div class="product-information">
            <h5>Product Information</h5>
            <div class="form-typeruangan">
              <select
                class="form-select"
                name="typeruangan"
                id="floatingselect"
                required
              >
                <option value="" selected>Select Room Type</option>
                <option value="1" data-price="1000000">Type 1</option>
                <option value="2" data-price="2000000">Type 2</option>
                <option value="3" data-price="3000000">Type 3</option>
                <option value="4" data-price="4000000">Type 4</option>
              </select>
              <label for="floatingselect">Pilih Type Virtual Office</label>
            </div>
            <div class="form-duration mb-3">
              <select
                class="form-select"
                name="duration"
                id="floatingduration"
                required
              >
                <option value="" selected>Select Duration</option>
                <option value="1 bulan">1 Bulan</option>
                <option value="12 bulan">12 Bulan</option>
                <option value="24 bulan">24 Bulan</option>
              </select>
              <label for="floatingduration">Pilih Durasi Penyewaan</label>
            </div>
          </div>
          <div class="form-total-price">
            <h5>Total Price:</h5>
            <p id="totalPrice">Rp 0</p>
          </div>
          <button type="submit" class="btn btn-primary" value="booking">
            Submit
          </button>
        </form>
      </div>
    </section>

    <!-- Footer Section -->
    <footer id="contact">
      <div class="foot">
        <div class="footer-content">
          <div class="footlinks">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="./index.html">Home</a></li>
              <li><a href="./details.html">Survei Kepuasan</a></li>
              <li><a href="./index.html#contact">Informasi</a></li>
              <li><a href="./about.html">Contact</a></li>
            </ul>
          </div>

          <div class="footlinks">
            <h4>Contact</h4>
            <ul>
              <li class="contact-item">
                <a href="#" class="contact-link">Admin : (022) 86121025</a>
              </li>
              <li class="contact-item">
                <a href="#" class="contact-link"
                  >Email : technopark@cimahikota.go.id</a
                >
              </li>
              <li class="contact-item">
                <address>
                  Jl. HMS Mintareja Sarjana Hukum, Baros, Kec. Cimahi Tengah,
                  Kota Cimahi, Jawa Barat 40521
                </address>
              </li>
            </ul>
          </div>

          <div class="footlinks">
            <h4>Social Media</h4>
            <div class="social">
              <a
                href="https://web.whatsapp.com/send?phone=6281223020029"
                target="https://web.whatsapp.com/send?phone=6281223020029"
                ><i class="bx bxl-whatsapp"></i
              ></a>
              <a
                href="https://www.facebook.com/technopark.cimahi/"
                target="https://www.facebook.com/technopark.cimahi/"
                ><i class="bx bxl-facebook"></i
              ></a>
              <a
                href="https://www.instagram.com/technopark.cimahi/"
                target="https://www.instagram.com/technopark.cimahi/"
                ><i class="bx bxl-instagram"></i
              ></a>
              <a
                href="https://x.com/i/flow/login?redirect_after_login=%2Fcimahitpark"
                target="https://x.com/i/flow/login?redirect_after_login=%2Fcimahitpark"
                ><i class="bx bxl-twitter"></i
              ></a>
              <a
                href="https://www.youtube.com/@cimahitechnopark4127"
                target="https://www.youtube.com/@cimahitechnopark4127"
                ><i class="bx bxl-youtube"></i
              ></a>
            </div>
          </div>
        </div>
      </div>

      <div class="end">
        <p>BITC © 2024 All Rights Reserved</p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const roomSelect = document.getElementById("floatingselect");
        const durationSelect = document.getElementById("floatingduration");
        const totalPriceElement = document.getElementById("totalPrice");

        function updatePrice() {
          const selectedRoom = roomSelect.options[roomSelect.selectedIndex];
          const roomPrice =
            parseInt(selectedRoom.getAttribute("data-price")) || 0;
          const selectedDuration = durationSelect.value;
          let totalPrice = 0;

          if (selectedDuration === "1 bulan") {
            totalPrice = roomPrice;
          } else if (selectedDuration === "12 bulan") {
            totalPrice = roomPrice * 12;
          } else if (selectedDuration === "24 bulan") {
            totalPrice = roomPrice * 24;
          }

          totalPriceElement.textContent = `Rp ${totalPrice.toLocaleString()}`;
        }

        roomSelect.addEventListener("change", updatePrice);
        durationSelect.addEventListener("change", updatePrice);
      });
    </script>

    <script>
      document
        .getElementById("bookingForm")
        .addEventListener("submit", async function (event) {
          event.preventDefault();

          // Ambil data dari form
          const fullname = document.getElementById("fullname").value;
          const gender = document.querySelector(
            'input[name="gender"]:checked'
          ).value;
          const email = document.getElementById("email").value;
          const phonenumber = document.getElementById("phonenumber").value;
          const typeruangan = document.getElementById("floatingselect").value;
          const duration = document.getElementById("floatingduration").value;

          // Siapkan data yang akan dikirim
          const data = {
            fullname: fullname,
            gender: gender,
            email: email,
            phonenumber: phonenumber,
            typeruangan: typeruangan,
            duration: duration,
          };

          try {
            // Kirim data ke API menggunakan fetch
            const response = await fetch(
              "http://localhost:5000/createBooking",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
              }
            );

            // Periksa status respons API
            if (response.ok) {
              const result = await response.json();
              alert("Booking berhasil dibuat!");
              console.log(result);
            } else {
              const errorData = await response.json();
              console.error("Error:", errorData);
              alert("Gagal membuat booking!");
            }
          } catch (error) {
            console.error("Error:", error);
            alert("Terjadi kesalahan dalam membuat booking!");
          }
        });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
